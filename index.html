<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Free Fire Account Checker</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #ff6b35;
            --secondary: #2f3061;
            --accent: #f7c59f;
            --dark: #0e0e2c;
            --light: #f8f9fa;
            --success: #5cb85c;
            --danger: #d9534f;
            --warning: #f0ad4e;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, var(--secondary), var(--dark));
            color: var(--light);
            min-height: 100vh;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            width: 100%;
        }
        
        .logo {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .logo i {
            font-size: 2.5rem;
            color: var(--primary);
        }
        
        header h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            background: linear-gradient(to right, var(--primary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        header p {
            font-size: 1.2rem;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto;
        }
        
        .search-box {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(10px);
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            margin-bottom: 30px;
            width: 100%;
            max-width: 650px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .input-group {
            display: flex;
            margin-bottom: 20px;
        }
        
        .input-group input {
            flex: 1;
            padding: 16px 20px;
            border: none;
            border-radius: 10px 0 0 10px;
            font-size: 1.1rem;
            background: rgba(255, 255, 255, 0.9);
            color: var(--dark);
            outline: none;
        }
        
        .input-group input::placeholder {
            color: #666;
        }
        
        .input-group button {
            padding: 16px 30px;
            border: none;
            border-radius: 0 10px 10px 0;
            background: var(--primary);
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1.1rem;
        }
        
        .input-group button:hover {
            background: #e55a2b;
            transform: translateY(-2px);
        }
        
        .input-group button:active {
            transform: translateY(0);
        }
        
        .example {
            text-align: center;
            font-size: 0.95rem;
            opacity: 0.8;
        }
        
        .results {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            width: 100%;
            margin-bottom: 40px;
        }
        
        .card {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s, box-shadow 0.3s;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.4);
        }
        
        .card-header {
            background: rgba(0, 0, 0, 0.3);
            padding: 18px;
            text-align: center;
            font-weight: 600;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .card-body {
            padding: 25px;
        }
        
        .profile-card {
            text-align: center;
        }
        
        .profile-card img {
            width: 100%;
            border-radius: 10px;
            margin-bottom: 20px;
            border: 3px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .info-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 12px;
            padding-bottom: 12px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .info-item span:first-child {
            font-weight: 600;
            color: var(--accent);
        }
        
        .ban-status {
            text-align: center;
            padding: 25px;
            font-size: 1.3rem;
            font-weight: 600;
        }
        
        .banned {
            color: var(--danger);
        }
        
        .not-banned {
            color: var(--success);
        }
        
        .outfit-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            gap: 15px;
        }
        
        .outfit-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 12px;
            border-radius: 10px;
            text-align: center;
            transition: transform 0.3s;
        }
        
        .outfit-item:hover {
            transform: scale(1.05);
            background: rgba(255, 255, 255, 0.1);
        }
        
        .outfit-item img {
            width: 70px;
            height: 70px;
            object-fit: cover;
            border-radius: 10px;
            margin-bottom: 10px;
            border: 2px solid rgba(255, 255, 255, 0.2);
        }
        
        .outfit-name {
            font-size: 0.85rem;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
        
        .loading {
            display: none;
            text-align: center;
            padding: 40px;
        }
        
        .loading i {
            font-size: 3rem;
            margin-bottom: 20px;
            color: var(--primary);
            animation: spin 1.5s linear infinite;
        }
        
        .loading p {
            font-size: 1.2rem;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .error {
            display: none;
            text-align: center;
            padding: 25px;
            background: rgba(217, 83, 79, 0.2);
            border-radius: 10px;
            margin: 20px 0;
            border-left: 5px solid var(--danger);
        }
        
        .warning {
            display: none;
            text-align: center;
            padding: 15px;
            background: rgba(240, 173, 78, 0.2);
            border-radius: 10px;
            margin: 10px 0;
            border-left: 5px solid var(--warning);
        }
        
        footer {
            margin-top: auto;
            text-align: center;
            padding: 25px;
            opacity: 0.7;
            font-size: 0.95rem;
            width: 100%;
        }
        
        .features {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
            margin: 30px 0;
        }
        
        .feature {
            background: rgba(255, 255, 255, 0.08);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            width: 200px;
        }
        
        .feature i {
            font-size: 2.5rem;
            color: var(--primary);
            margin-bottom: 15px;
        }
        
        .note {
            background: rgba(255, 255, 255, 0.08);
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
            font-size: 0.9rem;
        }
        
        .manual-data {
            background: rgba(255, 255, 255, 0.08);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        
        .manual-data h3 {
            text-align: center;
            margin-bottom: 15px;
            color: var(--accent);
        }
        
        .manual-input {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .manual-input input {
            flex: 1;
            padding: 10px;
            border: none;
            border-radius: 5px;
            background: rgba(255, 255, 255, 0.9);
        }
        
        .manual-input button {
            padding: 10px 15px;
            border: none;
            border-radius: 5px;
            background: var(--primary);
            color: white;
            cursor: pointer;
        }
        
        @media (max-width: 768px) {
            .results {
                grid-template-columns: 1fr;
            }
            
            .input-group {
                flex-direction: column;
            }
            
            .input-group input {
                border-radius: 10px;
                margin-bottom: 10px;
            }
            
            .input-group button {
                border-radius: 10px;
            }
            
            .outfit-container {
                grid-template-columns: repeat(2, 1fr);
            }
            
            header h1 {
                font-size: 2.2rem;
            }
            
            .features {
                flex-direction: column;
                align-items: center;
            }
            
            .feature {
                width: 100%;
                max-width: 300px;
            }
            
            .manual-input {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <i class="fas fa-fire"></i>
                <h1>Free Fire Account Checker</h1>
            </div>
            <p>Kiểm tra thông tin tài khoản Free Fire nhanh chóng và dễ dàng</p>
        </header>
        
        <div class="features">
            <div class="feature">
                <i class="fas fa-ban"></i>
                <h3>Check Ban</h3>
                <p>Kiểm tra tình trạng tài khoản</p>
            </div>
            <div class="feature">
                <i class="fas fa-user"></i>
                <h3>Thông Tin</h3>
                <p>Xem thông tin tài khoản</p>
            </div>
            <div class="feature">
                <i class="fas fa-id-card"></i>
                <h3>Ảnh Bìa</h3>
                <p>Xem ảnh bìa hồ sơ</p>
            </div>
            <div class="feature">
                <i class="fas fa-tshirt"></i>
                <h3>Trang Phục</h3>
                <p>Xem trang phục đang mặc</p>
            </div>
        </div>
        
        <div class="search-box">
            <div class="input-group">
                <input type="text" id="uidInput" placeholder="Nhập UID tài khoản Free Fire...">
                <button id="checkButton"><i class="fas fa-search"></i> Kiểm tra</button>
            </div>
            <p class="example">Ví dụ: 1234567890</p>
        </div>
        
        <div class="warning" id="warning">
            <p><i class="fas fa-exclamation-triangle"></i> <span id="warningMessage"></span></p>
        </div>
        
        <div class="loading" id="loading">
            <i class="fas fa-spinner"></i>
            <p>Đang tải dữ liệu...</p>
        </div>
        
        <div class="error" id="error">
            <p><i class="fas fa-exclamation-circle"></i> <span id="errorMessage"></span></p>
        </div>
        
        <div class="note">
            <p><i class="fas fa-info-circle"></i> Ứng dụng có thể gặp một số hạn chế do chính sách CORS của trình duyệt. Nếu không thể tải dữ liệu, vui lòng thử lại sau hoặc sử dụng chức năng nhập thủ công bên dưới.</p>
        </div>
        
        <div class="manual-data">
            <h3><i class="fas fa-edit"></i> Nhập thông tin thủ công</h3>
            <div class="manual-input">
                <input type="text" id="manualImageUrl" placeholder="URL ảnh bìa (base64 hoặc URL)">
                <button id="setImageBtn">Áp dụng ảnh</button>
            </div>
            <div class="manual-input">
                <input type="text" id="manualStatus" placeholder="Trạng thái (Banned/Not Banned)">
                <button id="setStatusBtn">Áp dụng trạng thái</button>
            </div>
        </div>
        
        <div class="results" id="results">
            <div class="card profile-card">
                <div class="card-header">
                    <i class="fas fa-id-card"></i> Ảnh Bìa Hồ Sơ
                </div>
                <div class="card-body" id="profileCard">
                    <p>Nhập UID để xem ảnh bìa</p>
                </div>
            </div>
            
            <div class="card">
                <div class="card-header">
                    <i class="fas fa-info-circle"></i> Thông Tin Tài Khoản
                </div>
                <div class="card-body" id="accountInfo">
                    <p>Nhập UID để xem thông tin</p>
                </div>
            </div>
            
            <div class="card">
                <div class="card-header">
                    <i class="fas fa-ban"></i> Tình Trạng Ban
                </div>
                <div class="card-body">
                    <div class="ban-status" id="banStatus">
                        <p>Nhập UID để kiểm tra</p>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <div class="card-header">
                    <i class="fas fa-tshirt"></i> Trang Phục Đang Mặc
                </div>
                <div class="card-body" id="outfitInfo">
                    <p>Nhập UID để xem trang phục</p>
                </div>
            </div>
        </div>
        
        <footer>
            <p>Free Fire Account Checker &copy; 2023 - Công cụ kiểm tra thông tin tài khoản Free Fire</p>
            <p>Triển khai trên Vercel</p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const uidInput = document.getElementById('uidInput');
            const checkButton = document.getElementById('checkButton');
            const loading = document.getElementById('loading');
            const error = document.getElementById('error');
            const warning = document.getElementById('warning');
            const errorMessage = document.getElementById('errorMessage');
            const warningMessage = document.getElementById('warningMessage');
            const profileCard = document.getElementById('profileCard');
            const accountInfo = document.getElementById('accountInfo');
            const banStatus = document.getElementById('banStatus');
            const outfitInfo = document.getElementById('outfitInfo');
            const manualImageUrl = document.getElementById('manualImageUrl');
            const manualStatus = document.getElementById('manualStatus');
            const setImageBtn = document.getElementById('setImageBtn');
            const setStatusBtn = document.getElementById('setStatusBtn');
            
            // Hiển thị cảnh báo về CORS
            showWarning('Một số tính năng có thể không hoạt động do hạn chế CORS. Vui lòng thử lại sau nếu gặp lỗi.');
            
            // Xử lý nhập thủ công
            setImageBtn.addEventListener('click', function() {
                const url = manualImageUrl.value.trim();
                if (url) {
                    if (url.startsWith('data:image')) {
                        profileCard.innerHTML = `<img src="${url}" alt="Profile Card">`;
                    } else if (url.startsWith('http')) {
                        profileCard.innerHTML = `<img src="${url}" alt="Profile Card">`;
                    } else {
                        // Giả sử là base64
                        profileCard.innerHTML = `<img src="data:image/png;base64,${url}" alt="Profile Card">`;
                    }
                    showWarning('Đã áp dụng ảnh thủ công');
                }
            });
            
            setStatusBtn.addEventListener('click', function() {
                const status = manualStatus.value.trim().toLowerCase();
                if (status.includes('not') || status.includes('không')) {
                    banStatus.innerHTML = '<p class="not-banned"><i class="fas fa-check-circle"></i> Tài khoản không bị ban</p>';
                } else if (status.includes('ban') || status.includes('cấm')) {
                    banStatus.innerHTML = '<p class="banned"><i class="fas fa-times-circle"></i> Tài khoản đã bị ban</p>';
                }
                showWarning('Đã áp dụng trạng thái thủ công');
            });
            
            checkButton.addEventListener('click', function() {
                const uid = uidInput.value.trim();
                
                if (!uid) {
                    showError('Vui lòng nhập UID tài khoản!');
                    return;
                }
                
                // Kiểm tra UID có phải là số không
                if (!/^\d+$/.test(uid)) {
                    showError('UID phải là một dãy số!');
                    return;
                }
                
                resetResults();
                loading.style.display = 'block';
                error.style.display = 'none';
                warning.style.display = 'none';
                
                // Gọi các API sử dụng JSONP
                checkBan(uid);
                getAccountInfo(uid);
                getProfileCard(uid);
                getOutfitInfo(uid);
                
                // Ẩn loading sau 5 giây
                setTimeout(() => {
                    loading.style.display = 'none';
                }, 5000);
            });
            
            function checkBan(uid) {
                // Sử dụng JSONP để vượt CORS
                const script = document.createElement('script');
                script.src = `http://raw.thug4ff.com/check_ban/${uid}?callback=handleBanResponse`;
                document.body.appendChild(script);
                
                // Xóa script sau khi tải
                setTimeout(() => {
                    document.body.removeChild(script);
                }, 1000);
            }
            
            function getAccountInfo(uid) {
                // Sử dụng JSONP để vượt CORS
                const script = document.createElement('script');
                script.src = `http://raw.thug4ff.com/info?uid=${uid}&callback=handleInfoResponse`;
                document.body.appendChild(script);
                
                // Xóa script sau khi tải
                setTimeout(() => {
                    document.body.removeChild(script);
                }, 1000);
            }
            
            function getProfileCard(uid) {
                // Sử dụng JSONP để vượt CORS
                const script = document.createElement('script');
                script.src = `http://profile.thug4ff.com/api/profile_card?uid=${uid}&callback=handleProfileCardResponse`;
                document.body.appendChild(script);
                
                // Xóa script sau khi tải
                setTimeout(() => {
                    document.body.removeChild(script);
                }, 1000);
            }
            
            function getOutfitInfo(uid) {
                // Sử dụng JSONP để vượt CORS
                const script = document.createElement('script');
                script.src = `http://profile.thug4ff.com/api/profile?uid=${uid}&callback=handleOutfitResponse`;
                document.body.appendChild(script);
                
                // Xóa script sau khi tải
                setTimeout(() => {
                    document.body.removeChild(script);
                }, 1000);
            }
            
            // Hàm xử lý response cho JSONP
            window.handleBanResponse = function(data) {
                loading.style.display = 'none';
                if (data && (data.includes('not banned') || data.includes('false') || data === '0')) {
                    banStatus.innerHTML = '<p class="not-banned"><i class="fas fa-check-circle"></i> Tài khoản không bị ban</p>';
                } else if (data && (data.includes('banned') || data.includes('true') || data === '1')) {
                    banStatus.innerHTML = '<p class="banned"><i class="fas fa-times-circle"></i> Tài khoản đã bị ban</p>';
                } else {
                    banStatus.innerHTML = `<p>Kết quả: ${data || 'Không xác định'}</p>`;
                }
            };
            
            window.handleInfoResponse = function(data) {
                loading.style.display = 'none';
                let html = '';
                if (data && typeof data === 'object') {
                    for (const key in data) {
                        if (data.hasOwnProperty(key)) {
                            html += `
                                <div class="info-item">
                                    <span>${formatKey(key)}:</span>
                                    <span>${data[key] || 'N/A'}</span>
                                </div>
                            `;
                        }
                    }
                } else {
                    html = '<p>Không có thông tin tài khoản</p>';
                }
                accountInfo.innerHTML = html;
            };
            
            window.handleProfileCardResponse = function(data) {
                loading.style.display = 'none';
                if (data && data.success && data.data && data.data.card) {
                    profileCard.innerHTML = `<img src="data:image/png;base64,${data.data.card}" alt="Profile Card">`;
                } else {
                    profileCard.innerHTML = '<p>Không thể tải ảnh bìa hồ sơ</p>';
                }
            };
            
            window.handleOutfitResponse = function(data) {
                loading.style.display = 'none';
                let html = '';
                if (data && data.success && data.data && data.data.wearing) {
                    const wearing = data.data.wearing;
                    html = '<div class="outfit-container">';
                    
                    for (const key in wearing) {
                        if (wearing.hasOwnProperty(key)) {
                            const item = wearing[key];
                            if (item && item.name) {
                                html += `
                                    <div class="outfit-item">
                                        <img src="${item.icon || 'https://via.placeholder.com/70'}" alt="${item.name}">
                                        <div class="outfit-name">${item.name}</div>
                                    </div>
                                `;
                            }
                        }
                    }
                    
                    html += '</div>';
                    
                    if (html === '<div class="outfit-container"></div>') {
                        html = '<p>Không có thông tin trang phục</p>';
                    }
                } else {
                    html = '<p>Không có thông tin trang phục</p>';
                }
                outfitInfo.innerHTML = html;
            };
            
            function formatKey(key) {
                const keyMap = {
                    'name': 'Tên',
                    'level': 'Cấp độ',
                    'exp': 'Kinh nghiệm',
                    'gold': 'Vàng',
                    'diamond': 'Kim cương',
                    'rank': 'Hạng',
                    'kills': 'Số kill',
                    'matches': 'Số trận',
                    'kd': 'Tỷ lệ Kill/Death'
                };
                
                return keyMap[key] || key.replace(/_/g, ' ').replace(/\b\w/g, l => l.toUpperCase());
            }
            
            function showError(message) {
                errorMessage.textContent = message;
                error.style.display = 'block';
            }
            
            function showWarning(message) {
                warningMessage.textContent = message;
                warning.style.display = 'block';
            }
            
            function resetResults() {
                profileCard.innerHTML = '<p>Đang tải ảnh bìa...</p>';
                accountInfo.innerHTML = '<p>Đang tải thông tin...</p>';
                banStatus.innerHTML = '<p>Đang kiểm tra...</p>';
                outfitInfo.innerHTML = '<p>Đang tải trang phục...</p>';
            }
            
            // Cho phép nhấn Enter để gửi
            uidInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    checkButton.click();
                }
            });
        });
    </script>
</body>
</html>
